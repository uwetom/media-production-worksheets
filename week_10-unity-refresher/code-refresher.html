<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>code-refresher</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><p><a href="https://uwetom.github.io/media-production-worksheets">Back</a></p>
<h1 id="c-code-refresher">C# Code Refresher</h1>
<h2 id="setup">Setup</h2>
<p>This first video introduces the tasks we are going to undertake in this exercise:<br>
To create a series of gameobjects at run time, detect collisions and use the collisions to trigger other events on different gameobjects (turning lights on and off).</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=8e41e24c-367c-49c7-a7b2-b201015b619c&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<p>Video 2 shows the scene set up:</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=06912c60-ef61-40a2-84a4-b2010160bdbc&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<h2 id="prefabs">Prefabs</h2>
<p>Video 3 explains how to create a prefab:</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=ed46776a-1729-447c-8e89-b2010162e642&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<h2 id="instantiate-add-gameobjects-as-your-scene-is-running">Instantiate (add) gameobjects as your scene is running</h2>
<p>Video 4 uses the ‘instantiate’ function to add a gameobject to a scene at run time:</p>
<p>The  ‘instantiate()’ function needs 3 parameters (I think I say 4 in the video below):<br>
They are : 1. the prefab gameobject to create, 2. its xyz position in space (a Vector3), and 3. it’s rotation</p>
<pre><code>Instantiate(gameobject, new Vector3(x,y,z), rotation);
</code></pre>
<p>Find the  documentation for Instantiate at <a href="https://docs.unity3d.com/">https://docs.unity3d.com/</a><br>
Watch  video 4 to see how to use it.</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=52a65920-4bce-4bb3-aeb0-b20101648a53&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<h2 id="code-challenge">Code Challenge</h2>
<p>Once you have instantiated a single gameobject work out how to instantiate 20 of the same objects into your scene:<br>
Watch the full description of the Code Challenge:</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=ba59dd76-a3d4-4ab5-891d-b2010170eaef&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<p><a href="https://uwe.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=e0bddfca-7769-4715-9b5a-b201016f069d">Need the solution?</a></p>
<h2 id="creating-an-interaction-with-collisions">Creating an interaction with collisions</h2>
<p>The next task is to use the collision created by the spheres falling to the ground to trigger the spot light to turn on and off.</p>
<p><img src="https://raw.githubusercontent.com/uwetom/media-production-worksheets/master/wk10-unity-refresher/images/interaction-flow-1.png" alt="enter image description here"></p>
<p>Intro to the next part of the task</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=7b3a43c7-2e03-4d99-b104-b20201168c30&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<h2 id="collision-detection-challenge">Collision detection challenge</h2>
<p>See if you can work out you how to detect collisions in your scene with c#</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=b0f2ae28-7ff1-4904-9b28-b2020117a4e3&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<p>Tip you’ll need to use <code>OnCollisionEnter</code> to detect a collision and retrieve information about the collision object.</p>
<p><a href="https://uwe.cloud.panopto.eu/Panopto/Pages/Viewer.aspx?id=604c37fc-f50c-4481-abbb-b20201198cf3">Need the solution?</a></p>
<h2 id="turning-the-light-on-and-off">Turning the light on and off</h2>
<p>Video 7 shows you how to turn the light on and off while the scene is running, and also how to detect if the light is on and off.</p>
<p>The rough plan for the script looks like this:</p>
<pre><code>// create isOn bool variable
// create ChangeLight() function to turn light on and off
// if light is on 
// if isOn == true 
//		turn off the light
// if light is off 
// else if isOn == false 
//		turn off the light
</code></pre>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=8d383c54-1f52-44ac-83e7-b20300faba59&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<h2 id="access-a-function-in-another-script-turning-a-light-on-and-off">Access a function in another script (Turning a light on and off)</h2>
<p>The next step is to trigger the <code>ChangeLight()</code> function to run when there is a collision.</p>
<p>However  the <code>ChangeLight()</code> function is in a different script to the collision detection.<br>
So we need know how to let the scripts communicate with each other.</p>
<p>Specifically we need the collision detection script to run the <code>ChangeLight()</code> function in the light script…  So that’s what we’re going to do next.</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=61c114ae-2c23-4ceb-889d-b2030100f505&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
<h2 id="add-more-lights--challenge">Add more lights  challenge</h2>
<p>You should now have one light flickering on and off when the spheres hit the ground plane.</p>
<p>The last (stretch) code challenge is to add more lights that all flicker on and off when the spheres hit the ground plane.</p>
<p>Hint: you will need to refactor (rewrite) bits of your code. There are a few ways to do this but probably the easiest have the light script check the collision script for collisions on every frame.</p>
<iframe src="https://uwe.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=ea4b51a1-ec0a-44ee-b6cc-b203011340cb&amp;autoplay=false&amp;offerviewer=true&amp;showtitle=true&amp;showbrand=true&amp;captions=false&amp;interactivity=all" height="405" width="720" allowfullscreen=""></iframe>
</div>
</body>

</html>
